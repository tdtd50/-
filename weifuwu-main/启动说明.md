# å¾®æœåŠ¡é¡¹ç›®å¯åŠ¨è¯´æ˜

## âœ… å½“å‰çŠ¶æ€

### åŸºç¡€è®¾æ–½ï¼ˆå·²å¯åŠ¨ï¼‰
- âœ… MySQL: è¿è¡Œåœ¨ç«¯å£ 3307
- âœ… Nacos: è¿è¡Œåœ¨ç«¯å£ 8848
- âœ… æ•°æ®åº“å·²åˆå§‹åŒ–ï¼ˆuser_db, product_db, order_dbï¼‰

### å¾®æœåŠ¡ï¼ˆå¾…å¯åŠ¨ï¼‰
- â³ user-service (ç«¯å£ 8081)
- â³ product-service (ç«¯å£ 8082)
- â³ order-service (ç«¯å£ 8083)
- â³ gateway-service (ç«¯å£ 8080)

## ğŸš€ å¯åŠ¨å¾®æœåŠ¡

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ IntelliJ IDEAï¼ˆæ¨èï¼‰

#### 1. åˆ·æ–° Maven é¡¹ç›®
1. æ‰“å¼€ IntelliJ IDEA
2. ç‚¹å‡»å³ä¾§çš„ **Maven** å·¥å…·çª—å£
3. ç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼ˆğŸ”„ï¼‰é‡æ–°åŠ è½½æ‰€æœ‰ Maven é¡¹ç›®
4. ç­‰å¾…ä¾èµ–ä¸‹è½½å®Œæˆ

#### 2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
åœ¨ IDEA å³ä¸Šè§’çš„è¿è¡Œé…ç½®ä¸‹æ‹‰èœå•ä¸­ï¼š
- é€‰æ‹© **"All Services"**
- ç‚¹å‡»ç»¿è‰²è¿è¡ŒæŒ‰é’® â–¶ï¸

æˆ–è€…é€ä¸ªå¯åŠ¨ï¼š
1. UserServiceApplication
2. ProductServiceApplication
3. OrderServiceApplication
4. GatewayApplication

#### 3. æŸ¥çœ‹å¯åŠ¨æ—¥å¿—
åœ¨ IDEA åº•éƒ¨çš„ **Run** æˆ– **Services** çª—å£ä¸­æŸ¥çœ‹å„ä¸ªæœåŠ¡çš„å¯åŠ¨æ—¥å¿—ã€‚

### æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œ

å¦‚æœä½ çš„ç³»ç»Ÿä¸­å·²å®‰è£… Mavenï¼Œå¯ä»¥åœ¨å„ä¸ªæœåŠ¡ç›®å½•ä¸‹æ‰§è¡Œï¼š

```bash
# ç”¨æˆ·æœåŠ¡
cd user-service
mvn spring-boot:run

# äº§å“æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd product-service
mvn spring-boot:run

# è®¢å•æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd order-service
mvn spring-boot:run

# ç½‘å…³æœåŠ¡ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd gateway-service
mvn spring-boot:run
```

## ğŸ” éªŒè¯æœåŠ¡çŠ¶æ€

### 1. æ£€æŸ¥ Nacos æœåŠ¡æ³¨å†Œ
è®¿é—® Nacos æ§åˆ¶å°ï¼šhttp://localhost:8848/nacos
- ç”¨æˆ·åï¼šnacos
- å¯†ç ï¼šnacos

åœ¨ **æœåŠ¡ç®¡ç† > æœåŠ¡åˆ—è¡¨** ä¸­åº”è¯¥èƒ½çœ‹åˆ°ï¼š
- user-service
- product-service
- order-service
- gateway-service

### 2. æµ‹è¯•æœåŠ¡æ¥å£

#### é€šè¿‡ç½‘å…³è®¿é—®ï¼ˆæ¨èï¼‰
```bash
# åˆ›å»ºç”¨æˆ·
curl -X POST http://localhost:8080/api/v1/users \
  -H "Content-Type: application/json" \
  -d '{"username":"test","email":"test@example.com"}'

# æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
curl http://localhost:8080/api/v1/users

# åˆ›å»ºäº§å“
curl -X POST http://localhost:8080/api/v1/products \
  -H "Content-Type: application/json" \
  -d '{"name":"iPhone","price":5999,"stock":100}'

# æŸ¥è¯¢äº§å“åˆ—è¡¨
curl http://localhost:8080/api/v1/products

# åˆ›å»ºè®¢å•
curl -X POST http://localhost:8080/api/v1/orders \
  -H "Content-Type: application/json" \
  -d '{"userId":1,"productId":1,"quantity":2}'

# æŸ¥è¯¢è®¢å•
curl http://localhost:8080/api/v1/orders/1
```

#### ç›´æ¥è®¿é—®å„ä¸ªæœåŠ¡
```bash
# ç”¨æˆ·æœåŠ¡
curl http://localhost:8081/api/v1/users

# äº§å“æœåŠ¡
curl http://localhost:8082/api/v1/products

# è®¢å•æœåŠ¡
curl http://localhost:8083/api/v1/orders/1
```

## ğŸ“Š æœåŠ¡ç«¯å£è¯´æ˜

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| MySQL | 3307 | æ•°æ®åº“ï¼ˆå®¹å™¨å†…éƒ¨3306ï¼Œæ˜ å°„åˆ°å®¿ä¸»æœº3307ï¼‰ |
| Nacos | 8848 | æœåŠ¡æ³¨å†Œä¸å‘ç°ä¸­å¿ƒ |
| gateway-service | 8080 | API ç½‘å…³ï¼ˆç»Ÿä¸€å…¥å£ï¼‰ |
| user-service | 8081 | ç”¨æˆ·æœåŠ¡ |
| product-service | 8082 | äº§å“æœåŠ¡ |
| order-service | 8083 | è®¢å•æœåŠ¡ |

## âš ï¸ å¸¸è§é—®é¢˜

### 1. ç¼–è¯‘é”™è¯¯
**é—®é¢˜**ï¼šIDEA æ˜¾ç¤ºçº¢è‰²æ³¢æµªçº¿æˆ–ç¼–è¯‘é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å³é”®ç‚¹å‡»é¡¹ç›®æ ¹ç›®å½• â†’ **Maven** â†’ **Reload Project**
2. **File** â†’ **Invalidate Caches / Restart**
3. ç¡®ä¿ JDK ç‰ˆæœ¬ä¸º Java 17 æˆ–æ›´é«˜

### 2. æœåŠ¡æ— æ³•å¯åŠ¨
**é—®é¢˜**ï¼šæœåŠ¡å¯åŠ¨å¤±è´¥æˆ–ç«¯å£è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr "8080 8081 8082 8083"

# å¦‚æœç«¯å£è¢«å ç”¨ï¼Œæ‰¾åˆ°è¿›ç¨‹IDå¹¶ç»“æŸ
taskkill /PID <è¿›ç¨‹ID> /F
```

### 3. æ— æ³•è¿æ¥æ•°æ®åº“
**é—®é¢˜**ï¼šæœåŠ¡å¯åŠ¨æ—¶æŠ¥æ•°æ®åº“è¿æ¥é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤ MySQL å®¹å™¨æ­£åœ¨è¿è¡Œï¼š`docker ps`
2. ç¡®è®¤ç«¯å£æ˜ å°„æ­£ç¡®ï¼ˆ3307â†’3306ï¼‰
3. æ£€æŸ¥ application.yml ä¸­çš„æ•°æ®åº“é…ç½®

### 4. æœåŠ¡æœªæ³¨å†Œåˆ° Nacos
**é—®é¢˜**ï¼šNacos æ§åˆ¶å°çœ‹ä¸åˆ°æœåŠ¡

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤ Nacos å®¹å™¨æ­£åœ¨è¿è¡Œ
2. æ£€æŸ¥æœåŠ¡å¯åŠ¨æ—¥å¿—ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰ Nacos è¿æ¥é”™è¯¯
3. ç¡®è®¤ application.yml ä¸­ Nacos åœ°å€é…ç½®æ­£ç¡®

## ğŸ›‘ åœæ­¢æœåŠ¡

### åœæ­¢å¾®æœåŠ¡
- åœ¨ IDEA ä¸­ç‚¹å‡»çº¢è‰²åœæ­¢æŒ‰é’® â¹ï¸
- æˆ–åœ¨å‘½ä»¤è¡Œä¸­æŒ‰ `Ctrl+C`

### åœæ­¢åŸºç¡€è®¾æ–½
```bash
docker-compose down
```

## ğŸ“ é¡¹ç›®æ¶æ„

```
ecommerce-system/
â”œâ”€â”€ user-service/          # ç”¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ controller/        # REST API
â”‚   â”œâ”€â”€ service/          # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ repository/       # æ•°æ®è®¿é—®
â”‚   â””â”€â”€ model/            # å®ä½“ç±»
â”œâ”€â”€ product-service/       # äº§å“æœåŠ¡
â”œâ”€â”€ order-service/         # è®¢å•æœåŠ¡ï¼ˆåŒ…å« Feign å®¢æˆ·ç«¯ï¼‰
â””â”€â”€ gateway-service/       # API ç½‘å…³
```

## ğŸ”— ç›¸å…³é“¾æ¥

- Nacos æ§åˆ¶å°: http://localhost:8848/nacos
- API ç½‘å…³: http://localhost:8080
- ç”¨æˆ·æœåŠ¡: http://localhost:8081
- äº§å“æœåŠ¡: http://localhost:8082
- è®¢å•æœåŠ¡: http://localhost:8083
